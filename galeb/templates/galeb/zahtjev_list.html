{% extends 'base.html' %}
{% load static %}

{% block sadrzaj %}
<h1>Zahtjevi</h1>
<h3>Korisnik: {{request.user}}</h3>
{{request.user}}<br/>

<a href="{% url 'ZahtjevCreateView' %}">Novi zahtjev</a>
<div class="table-responsive">
    <table class="table table-striped table-sm">
        <thead class="thead-dark">
            <tr>
              <th>Status</th>
              <th>Datum</th>
              <th>Korisnik</th>
              <th>Opis</th>
              <th>Akcija</th>
            </tr>
        </thead>
        <tbody>
        {% for z in zahtjevi %}
            <tr>
              <td>{{z.status}}</td>
              <td>{{z.datum}}</td>
              <td>
                {{z.id_korisnik.ime}}
                {{z.id_korisnik.prezime}}
                ({{z.id_korisnik.email}})
              </td>
              <td>{{z.opis}}</td>
              <td><a href="{% url 'ZahtjevDetailView' z.id_zahtjev %}">Detalji</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; Početna</a>
            <a href="?page={{ page_obj.previous_page_number }}">&lt; Prethodna</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">Sljedeća&gt;</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">Posljednja &raquo;</a>
        {% endif %}
    </span>
</div>
{% endblock sadrzaj%}